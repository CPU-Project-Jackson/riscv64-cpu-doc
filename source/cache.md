# 高速缓存设计

自从我们给CPU添加了AXI总线接口并去除了指令RAM和数据RAM之后，他的运行效率就大打折扣了，运行同样的程序需要花费更多的时间周期。以我举例，此时的IPC已经降到了0.01-0.02之间。

```{admonition} 那么去除指令RAM和数据RAM是不是一种设计倒退呢？

其实不然，指令RAM和数据RAM的使用要求软件人员明确掌握物理内存的容量、起始地址，增加了软件的开发难度。目前这种硬件架构仅在那些对于成本、功耗或执行延迟的确定性极为敏感的低端嵌入式领域广泛使用。那些应用领域还有一个特点是软件规模不大、程序行为相对确定，否则没有虚拟化存储管理对于应用开发来说就是灾难。纵然指令RAM和数据RAM有这样的不足，但是性能问题也是要解决的。

```


我们的解决思路就是增加高速缓存(Cache)


## 基础知识
## 动手实践

本章节主要参考《CPU设计实战》第10章“高速缓存设计”

### Cache规模的设计

解决Axi总线速度缓慢的思路——高速缓存(Cache)

### 将Cache集成到CPU中

#### 集成ICache

#### 集成DCache

